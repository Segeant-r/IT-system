{% extends 'base.html' %}
{% block content %}
<h3>ISPs</h3>
<form class="row g-2 mb-3" method="post" action="{{ url_for('isps_add') }}">
  <div class="col-md-3"><input class="form-control" name="name" placeholder="ISP Name" required></div>
  <div class="col-md-2"><input class="form-control" type="number" step="0.01" name="monthly_fee" placeholder="Monthly Fee" required></div>
  <div class="col-md-3"><input class="form-control" name="account_number" placeholder="Account Number"></div>
  <div class="col-md-2"><button class="btn btn-primary w-100">Add</button></div>
</form>

<h5>Downtime</h5>
<div class="row g-2 mb-3">
  <form class="row g-2" method="post" action="{{ url_for('downtime_add', isp_id=0) }}">
    <div class="col-md-3">
      <select class="form-select" name="isp_id" onchange="this.form.action='/isps/'+this.value+'/downtime/add'">
        {% for i in items %}<option value="{{ i.id }}">{{ i.name }}</option>{% endfor %}
      </select>
    </div>
    <div class="col-md-3"><input class="form-control" type="datetime-local" name="start" required></div>
    <div class="col-md-3"><input class="form-control" type="datetime-local" name="end" required></div>
    <div class="col-md-2"><input class="form-control" name="reason" placeholder="Reason"></div>
    <div class="col-md-1"><button class="btn btn-outline-primary w-100">Log</button></div>
  </form>
</div>

<table class="table table-striped">
  <thead><tr><th>Name</th><th>Monthly Fee</th><th>Account</th></tr></thead>
  <tbody>{% for i in items %}<tr><td>{{ i.name }}</td><td>{{ i.monthly_fee }}</td><td>{{ i.account_number or '-' }}</td></tr>{% endfor %}</tbody>
</table>
{% endblock %}
